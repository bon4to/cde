<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <title>Estoque | TRANS LÉGUA</title>

            {% include 'shared/header.html' %}

            <div class="tables-mobile">
                <div class="split-horizontal">
                    <h1>Visualização de Saldo</h1>
                    <img class="svg-gray" src="{{ url_for('static', filename='icons/filter.svg') }}" alt="" onclick="toggleFilter()">
                </div>

            <div style="justify-content: flex-end" >
                <label for="searchInput1"></label>
                <label for="filterSelect"></label>
                <div id="table-filter" style="display: none" >
                    <input type="text" class="searchInput" id="searchInput1" oninput="filterTable()" placeholder="Filtrar por...">
                    <select class="address" name="filterIndex" id="filterSelect" onchange="updateFilterIndex()">
                        <option value=0>Produto (Descrição)</option>
                        <option value=1>Saldo (Quantidade)</option>
                        <option value=2>Últ. Movimen. (Data/Hora)</option>

                    </select>
                </div>
            </div>

                <div style="max-height: 800px; overflow-y: auto;">
                    <table class="saldoTable">
                        <thead>
                            <tr>
                                <th>Produto</th>
                                <th>Saldo</th>
                                <th>Últ. Movimentação</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for item in saldo_visualization %}
                                <tr data-produto="{{ item.produto | lower }}">
                                    <td>{{ item.produto }}</td>
                                    <td>{{ item.saldo }}</td>
                                    <td>{{ item.timestamp }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

                <a href="{{ url_for('export_csv_tipo', tipo='estoque') }}">
                    Baixar tabela...
                </a>
            </div>

        {% include 'shared/footer.html' %}
